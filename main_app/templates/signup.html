{% extends 'base.html' %}
{% block title %}Sign Up{% endblock %}

{% block content %}
  <h1>Create an Account</h1>

  {# Show form-wide (non-field) errors #}
  {% if form.non_field_errors %}
    <ul class="errorlist">
      {% for err in form.non_field_errors %}
        <li>{{ err }}</li>
      {% endfor %}
    </ul>
  {% endif %}

  <form method="post">
    {% csrf_token %}

    {# Loop through fields so we can show per-field errors #}
    {% for field in form %}
      <div class="form-group">
        {{ field.label_tag }}
        {{ field }}
        {% if field.errors %}
          <ul class="errorlist">
            {% for error in field.errors %}
              <li>{{ error }}</li>
            {% endfor %}
          </ul>
        {% endif %}
      </div>
    {% endfor %}

    <button type="submit">Sign Up</button>
  </form>

  <p>Already have an account? <a href="{% url 'login' %}">Log in</a></p>
{% endblock %}